// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "postgresql"
}

generator client {
  provider = "prisma-client-js"
  output   = "node_modules/.prisma/client"
}

model User {
  id                      String    @id @default(uuid()) @postgresql.Uuid
  name                    String    @default("")
  email                   String    @unique @default("")
  password                String
  passwordResetToken      String?
  passwordResetIssuedAt   DateTime?
  passwordResetRedeemedAt DateTime?
}

model Activity {
  id                  String                @id @default(uuid()) @postgresql.Uuid
  title               String                @default("")
  activityItemHeading ActivityItemHeading[] @relation("Activity_activityItemHeading")
  faq                 Faq[]                 @relation("Activity_faq")
}

model ActivityItemHeading {
  id                                String         @id @default(uuid()) @postgresql.Uuid
  title                             String         @default("")
  activityItems                     ActivityItem[] @relation("ActivityItemHeading_activityItems")
  from_Activity_activityItemHeading Activity[]     @relation("Activity_activityItemHeading")
}

model ActivityItem {
  id                                     String                @id @default(uuid()) @postgresql.Uuid
  title                                  String                @default("")
  content                                Json                  @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  tab                                    String                @default("")
  anchor                                 String                @default("")
  images                                 Image[]               @relation("ActivityItem_images")
  price                                  String                @default("")
  duration                               String                @default("")
  from_ActivityItemHeading_activityItems ActivityItemHeading[] @relation("ActivityItemHeading_activityItems")
  from_HomeTour_homeTour                 HomeTour[]            @relation("HomeTour_homeTour")
}

model Image {
  id                       String         @id @default(uuid()) @postgresql.Uuid
  name                     String         @default("")
  altText                  String         @default("")
  image                    Json?
  from_ActivityItem_images ActivityItem[] @relation("ActivityItem_images")
  from_ServiceItem_images  ServiceItem[]  @relation("ServiceItem_images")
  from_About_affiliations  About[]        @relation("About_affiliations")
}

model ServiceItem {
  id                        String    @id @default(uuid()) @postgresql.Uuid
  title                     String    @default("")
  content                   Json      @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  images                    Image[]   @relation("ServiceItem_images")
  price                     String    @default("")
  from_Service_serviceItems Service[] @relation("Service_serviceItems")
}

model Service {
  id           Int           @id
  title        String        @default("")
  serviceItems ServiceItem[] @relation("Service_serviceItems")
}

model Home {
  id        Int        @id
  homeTours HomeTour[] @relation("Home_homeTours")
}

model HomeTour {
  id                  String        @id @default(uuid()) @postgresql.Uuid
  name                String        @default("")
  homeTour            ActivityItem? @relation("HomeTour_homeTour", fields: [homeTourId], references: [id])
  homeTourId          String?       @map("homeTour") @postgresql.Uuid
  from_Home_homeTours Home[]        @relation("Home_homeTours")

  @@index([homeTourId])
}

model About {
  id           Int     @id
  title        String  @default("")
  content      Json    @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  guidesInfo   Json    @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  guides       Guide[] @relation("About_guides")
  affiliations Image[] @relation("About_affiliations")
}

model Guide {
  id                String  @id @default(uuid()) @postgresql.Uuid
  name              String  @default("")
  title             String  @default("")
  displayIndex      Int     @default(0) @map("display_index")
  altText           String  @default("")
  image             Json?
  description       String  @default("")
  from_About_guides About[] @relation("About_guides")
}

model Faq {
  id                String     @id @default(uuid()) @postgresql.Uuid
  question          String     @default("")
  answer            String     @default("")
  from_Activity_faq Activity[] @relation("Activity_faq")
}

model IndemnityFormText {
  id      Int  @id
  content Json @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
}

model Indemnity {
  id              String   @id @default(uuid()) @postgresql.Uuid
  firstName       String   @default("")
  lastName        String   @default("")
  indemnityPdfUrl String?
  date            DateTime @default("1970-01-01T00:00:00.000Z") @map("datetimestamp")
}
